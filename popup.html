<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spore Cache</title>
    <link rel="stylesheet" href="popup.css">
</head>

<body>

    <!-- SVG noise filter for grain/plastic texture on casing. Invisible — defines the filter ID only. -->
    <svg width="0" height="0" style="position:absolute">
        <filter id="noise">
            <feTurbulence type="fractalNoise" baseFrequency="0.75" numOctaves="4" stitchTiles="stitch" />
            <feColorMatrix type="saturate" values="0" />
        </filter>
    </svg>

    <!--
        .device-container is the positioning root for ALL decorations.
        The casing sits inside it. Decos are siblings of the casing so they
        can extend beyond it freely — no overflow clipping anywhere.
        Body padding gives decos room to extend without hitting the Chrome popup edge.
    -->
    <div class="device-container">

        <!-- ── DECORATIONS (siblings of casing, positioned relative to container) ── -->
        <img src="assets/mushroom-top-left.png" class="deco deco-mushroom-tl" alt="">
        <img src="assets/mushroom-top-right.png" class="deco deco-mushroom-tr" alt="">
        <img src="assets/moth-top-center.png" class="deco deco-moth-top" alt="">
        <img src="assets/moth-mushroom-right.png" class="deco deco-moth-mushroom-r" alt="">

        <!-- ── CASING ── -->
        <div class="casing">

            <!-- Grain overlay — plastic texture -->
            <div class="grain"></div>

            <!-- ── SCREEN ── -->
            <div class="screen">

                <div class="screen-header">
                    <h1 class="title">Spore Cache</h1>
                    <span class="item-count" id="itemCount">all clear</span>
                </div>

                <div class="editor-wrapper" id="editorWrapper">
                    <div class="checkbox-layer" id="checkboxLayer"></div>
                    <div class="editor" id="docEditor" contenteditable="true" spellcheck="false"
                        aria-label="Your notes">
                    </div>
                </div>

            </div>

            <!-- ── BOTTOM BAR ── -->
            <div class="bottom-bar">
                <button class="options-btn" id="optionsBtn" aria-label="Options">options</button>
                <img src="assets/moth-bottom.png" class="bottom-moth" alt="">
                <img src="assets/butterfly-bottom.png" class="bottom-butterfly" alt="">
            </div>

            <!-- ── OPTIONS PANEL ── -->
            <div class="options-panel" id="optionsPanel">
                <div class="options-header">
                    <span class="options-title">Settings</span>
                    <button class="options-close" id="optionsClose" aria-label="Close">✕</button>
                </div>

                <div class="options-content">
                    <!-- Dark Mode Toggle -->
                    <div class="option-row">
                        <span class="option-label">Dark Mode</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="darkModeToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <!-- Font Size -->
                    <div class="option-row">
                        <span class="option-label">Font Size</span>
                        <select id="fontSizeSelect" class="option-select">
                            <option value="11">Small</option>
                            <option value="13" selected>Medium</option>
                            <option value="15">Large</option>
                            <option value="17">Extra Large</option>
                        </select>
                    </div>

                    <!-- Accent Color -->
                    <div class="option-row">
                        <span class="option-label">Accent</span>
                        <div class="color-swatches" id="accentSwatches">
                            <button class="swatch" data-color="purple" style="--swatch-color: #6b3fa0"
                                aria-label="Purple"></button>
                            <button class="swatch" data-color="teal" style="--swatch-color: #3d8a6e"
                                aria-label="Teal"></button>
                            <button class="swatch" data-color="coral" style="--swatch-color: #e07850"
                                aria-label="Coral"></button>
                            <button class="swatch" data-color="gold" style="--swatch-color: #c9a227"
                                aria-label="Gold"></button>
                        </div>
                    </div>


                    <!-- Spore Tags -->
                    <div class="option-row">
                        <span class="option-label">Tags</span>
                        <div class="tag-picker" id="tagPicker">
                            <!-- Populated by JS -->
                        </div>
                    </div>

                    <!-- Divider -->
                    <div class="option-divider"></div>

                    <!-- Clear Completed -->
                    <button class="option-action" id="clearCompletedBtn">
                        <span>Clear Completed</span>
                        <span class="completed-count" id="completedCount"></span>
                    </button>

                    <!-- Export Data -->
                    <button class="option-action" id="exportBtn">
                        Export Notes
                    </button>
                </div>
            </div>

        </div>
    </div>

    <script src="popup.js"></script>
</body>

</html>